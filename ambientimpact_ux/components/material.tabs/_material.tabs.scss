// -----------------------------------------------------------------------------
//   Ambient.Impact - UX - Material tabs partial
// -----------------------------------------------------------------------------

@use 'link/link.state' as link-state;
@use 'material.common/material.colour' as material-colour;
@use 'material.common/material.general' as material-general;
@use 'sass/helpers/colour';

///
/// Material tabs container underline colour on light backgrounds.
///
$material-tabs-underline-colour-on-light:
  material-colour.$material-line-colour-on-light !default;

///
/// Material tabs container underline colour on dark backgrounds.
///
$material-tabs-underline-colour-on-dark:
  material-colour.$material-line-colour-on-dark !default;

///
/// Material tabs container underline thickness.
///
$material-tabs-underline-thickness: 1px !default;

///
/// Material tabs active indicator underline colour.
///
$material-tabs-indicator-colour:
  material-colour.$material-primary-colour !default;

///
/// Material tabs active indicator underline thickness.
///
$material-tabs-indicator-thickness: 2px !default;

///
/// Material tabs padding.
///
$material-tabs-padding:
  material-general.$material-item-padding-text-align !default;

///
/// Style and layout for a Material tabs container.
///
/// This is usually applied to a <ul> or similar element.
///
@mixin material-tabs-container {

  display: flex;

  // Required to provide a new positioning context for the ::after.
  position: relative;

  overflow-x: auto;

  padding-bottom: $material-tabs-underline-thickness;

  // A pseudo-element is necessary as a border will not allow the active item
  // indicator to shift down without causing vertical scrollbars.
  &::after {

    content: '';

    position: absolute;

    left:   0;
    right:  0;
    bottom: 0;

    // Use border rather a background colour with height as the latter has
    // issues with sub-pixel rounding issues and can be rendered thicker than
    // intended.
    border-bottom: $material-tabs-underline-thickness solid
      $material-tabs-underline-colour-on-light;

    @include colour.on-dark-colour-scheme {
      border-bottom-color: $material-tabs-underline-colour-on-dark;
    }

  }

}

///
/// Style and layout for Material tab items.
///
/// This is usually applied to interactive elements such as <a>.
///
/// @see {mixin} link-hover
///   Used to set interacted state.
///
@mixin material-tabs-item {

  position: relative;

  padding:  $material-tabs-padding;

  font-weight:    strong;
  text-transform: uppercase;
  line-height:    1;

  @include link-state.link-hover {
    background-color:
      material-colour.$material-flat-item-interact-colour-on-light;

    @include colour.on-dark-colour-scheme {
      background-color:
        material-colour.$material-flat-item-interact-colour-on-dark;
    }
  }

}


///
/// Style and layout for Material tab item current indicator.
///
/// This is intended to be applied to a descendent of the current tab that has
/// had the material-tabs-item mixin applied.
///
/// This adds a bar under the active item to indicate its active state.
///
@mixin material-tabs-item-current {

  position: absolute;

  left:   0;
  right:  0;
  // Shift down to cancel out the container underline.
  bottom: -$material-tabs-underline-thickness;

  // Use border rather a background colour with height as the latter has issues
  // with sub-pixel rounding issues and can be rendered thicker than intended.
  border-bottom: $material-tabs-indicator-thickness solid
    $material-tabs-indicator-colour;

}
