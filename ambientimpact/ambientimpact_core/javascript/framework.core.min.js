!function(){"use strict";function n(){return"Promise"in window&&"all"in Promise&&"isArray"in Array&&"indexOf"in Array.prototype}if(n()){var t=!1;Drupal.behaviors.AmbientImpactFrameworkAttachTest={attach:function(n,e){t=!0,delete Drupal.behaviors.AmbientImpactFrameworkAttachTest}};e=function(e){function o(n,t){if(a.hasOwnProperty(n)||(a[n]={component:null,callbacks:[],registered:!1}),"function"==typeof t){for(var e=[],o=c.length-1;o>=0;o--)(0===c[o].names.length||c[o].names.indexOf(n)>-1)&&e.push(c[o].promise);Promise.all(e).then(function(){a[n].component=new u.component(n,t),a[n].registered=!0})}}function i(n){return o(n),a[n].registered}function r(n,t){o(n),a[n].callbacks.push(t)}function s(n,t){var e=[];switch(typeof n){case"string":n=[n];break;case"function":t=n,n=[]}if(n&&n.length&&n.length>0)for(var o=0;o<n.length;o++)e.push(a[n[o]].component);else e.push(this);e.push(jQuery),t.apply(e[0],e)}var a={},c=[],u=this;this.mustard=n,this.delayComponents=function(n,t){"all"in n&&"function"==typeof n.all&&(t=n),Array.isArray(n)||(n=[]),c.push({names:n,promise:t})},this.getComponentSettings=function(n){return e in drupalSettings&&"components"in drupalSettings[e]&&n in drupalSettings[e].components?drupalSettings[e].components[n]:{}},this.component=function(n,e){function o(n,t){return n.length>0?jQuery(n,t):jQuery(t===document?document.body:t)}if(this.getName=function(){return n},this.settings=u.getComponentSettings(n),this.addBehaviours=function(n){for(var e in n)n.hasOwnProperty(e)&&n[e].attach&&"function"==typeof n[e].attach&&(Drupal.behaviors[e]=n[e],!0===t&&Drupal.behaviors[e].attach(document.body))},this.addBehaviors=this.addBehaviours,this.addBehaviour=function(n,t,e,i,r,s){var a={},c={};"string"!=typeof e&&(s=r,r=i,i=e,e=""),"function"==typeof i&&(s=r,r=i),Array.isArray(i)||(i=["unload"]),a.attach=function(n,i){o(e,n).once(t).each(function(){r.apply(this,[n,i])})},a.detach=function(n,r,a){i.length>0&&-1===i.indexOf(a)||o(e,n).removeOnce(t).each(function(){s.apply(this,[n,r,a])})},c[n]=a,this.addBehaviours(c)},s.call(this,e),a.hasOwnProperty(n))for(var i=0;i<=a[n].callbacks.length-1;i++)s.call(this,a[n].callbacks[i]);return this},this.addComponent=function(n,t,e){return"function"==typeof t&&(e=t),o(n,e),this},this.on=function(n,t){return"string"==typeof n?this.onComponent(n,t):Array.isArray(n)?this.onComponents(n,t):this},this.onComponent=function(n,t){return i(n)?s(n,t):r(n,t),this},this.onComponents=function(n,t){for(var e=[],o=this,i=0;i<n.length;i++)e.push(new Promise(function(t,e){o.onComponent(n[i],t)}));return Promise.all(e).then(function(){s(n,t)}),this}};window.AmbientImpact=new e("AmbientImpact")}else{var e=function(){var t=["component","addComponent","registerComponent","on","onComponent","onComponents"];this.mustard=n;for(var e=t.length-1;e>=0;e--)this[t[e]]=function(){return this}};window.AmbientImpact=new e("AmbientImpact")}}();