id: d7_paragraph_images
label: 'Paragraph items (Images bundle)'
migration_tags:
  - 'Drupal 7'
migration_group: d7_ambientimpact

source:
  plugin: d7_paragraphs_item
  bundle: images
  # field_name is the machine name of the field on the corresponding node type
  # that references this paragraph.
  field_name: field_paragraphs

process:
  field_images_migrated:
    plugin: iterator
    source: field_images
    process:
      target_id:
        plugin: migration_lookup
        migration: d7_file_ambientimpact
        source: fid
      alt: alt
      title: title
      height: height
      width: width

destination:
  plugin: 'entity_reference_revisions:paragraph'
  default_bundle: images

migration_dependencies:
  required:
    - d7_file_ambientimpact
  optional: {}

dependencies:
  enforced:
    module:
      - ambientimpact_paragraphs_migrate
