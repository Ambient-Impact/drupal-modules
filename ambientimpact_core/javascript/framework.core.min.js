!function(){"use strict";function e(){return"Promise"in window&&"all"in Promise&&"isArray"in Array&&"indexOf"in Array.prototype}if(e()){var o=!1;Drupal.behaviors.AmbientImpactFrameworkAttachTest={attach:function(n,t){o=!0,delete Drupal.behaviors.AmbientImpactFrameworkAttachTest}};n=function(t){var r={},i=[],a=this;function s(n,t){if(r.hasOwnProperty(n)||(r[n]={component:null,callbacks:[],registered:!1}),"function"==typeof t){for(var e=[],o=i.length-1;0<=o;o--)(0===i[o].names.length||-1<i[o].names.indexOf(n))&&e.push(i[o].promise);Promise.all(e).then(function(){r[n].component=new a.component(n,t),r[n].registered=!0})}}function h(n,t){var e=[];switch(typeof n){case"string":n=[n];break;case"function":t=n,n=[]}if(n&&n.length&&0<n.length)for(var o=0;o<n.length;o++)e.push(r[n[o]].component);else e.push(this);e.push(jQuery),t.apply(e[0],e)}this.mustard=e,this.delayComponents=function(n,t){"all"in n&&"function"==typeof n.all&&(t=n),Array.isArray(n)||(n=[]),i.push({names:n,promise:t})},this.getComponentSettings=function(n){return t in drupalSettings&&"components"in drupalSettings[t]&&n in drupalSettings[t].components?drupalSettings[t].components[n]:{}},this.component=function(n,t){function c(n,t){return 0<n.length?jQuery(n,t):jQuery(t===document?document.body:t)}if(this.getName=function(){return n},this.settings=a.getComponentSettings(n),this.addBehaviours=function(n){for(var t in n)n.hasOwnProperty(t)&&n[t].attach&&"function"==typeof n[t].attach&&(Drupal.behaviors[t]=n[t],!0===o&&Drupal.behaviors[t].attach(document.body))},this.addBehaviors=this.addBehaviours,this.addBehaviour=function(n,o,i,r,e,a){var t={},s={};"string"!=typeof i&&(a=e,e=r,r=i,i=""),"function"==typeof r&&(a=e,e=r),Array.isArray(r)||(r=["unload"]),t.attach=function(n,t){c(i,n).once(o).each(function(){e.apply(this,[n,t])})},t.detach=function(n,t,e){0<r.length&&-1===r.indexOf(e)||c(i,n).removeOnce(o).each(function(){a.apply(this,[n,t,e])})},s[n]=t,this.addBehaviours(s)},h.call(this,t),r.hasOwnProperty(n))for(var e=0;e<=r[n].callbacks.length-1;e++)h.call(this,r[n].callbacks[e]);return this},this.addComponent=function(n,t,e){return"function"==typeof t&&(e=t),s(n,e),this},this.on=function(n,t){return"string"==typeof n?this.onComponent(n,t):Array.isArray(n)?this.onComponents(n,t):this},this.onComponent=function(n,t){var e,o,i;return s(i=n),r[i].registered?h(n,t):(o=t,s(e=n),r[e].callbacks.push(o)),this},this.onComponents=function(e,n){for(var t=[],o=this,i=0;i<e.length;i++)t.push(new Promise(function(n,t){o.onComponent(e[i],n)}));return Promise.all(t).then(function(){h(e,n)}),this}};window.AmbientImpact=new n("AmbientImpact")}else{var n=function(){var n=["component","addComponent","registerComponent","on","onComponent","onComponents"];this.mustard=e;for(var t=n.length-1;0<=t;t--)this[n[t]]=function(){return this}};window.AmbientImpact=new n("AmbientImpact")}}();