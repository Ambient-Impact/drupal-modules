// -----------------------------------------------------------------------------
//   Ambient.Impact - Core - Material Design text input label partial
// -----------------------------------------------------------------------------

///
/// Material Input label height when shown at full size.
///
$material-input-label-height: 1.3rem !default;

///
/// Material Input label text colour when input has content or is focused.
///
$material-input-label-colour-active:
  $material-input-border-colour-focus !default;

///
/// Material Input label text colour when input is disabled.
///
$material-input-label-colour-disabled: inherit !default;

///
/// Material Input label text colour when input is empty.
///
$material-input-label-colour-empty: inherit !default;

///
/// Material Input label styles.
///
@mixin material-input-label {
  // Labels without any JavaScript enhancement are made to look like the
  // enhanced labels when the input has focus/has a value.
  label {
    font-size: 75%;

    color: $material-input-label-colour-active;
  }

  .material-input__label:not(.visually-hidden) {
    & + .material-input__input,
    & + .material-input__autocomplete + input.material-input__input,
    & + .form-textarea-wrapper .material-input__input {
      // We use margin-top instead of padding-top to avoid Chrome (and
      // maybe WebKit in general?) autofill background colour from
      // reaching up under the input label, when it should only show
      // behind the input.
      margin-top: $material-input-label-height;
    }
  }

  .material-input__label:not(.visually-hidden) {
    position: absolute;
    top:      0;
    left:     0;

    transform: scale(0.75);
    transform-origin: 0 0;

    opacity: 1;

    // Reset the font-size now that we've enhanced the label.
    font-size: 100%;

    transition-duration:  0.1s;
    transition-property:  transform opacity color;

    pointer-events: none;

    &.form-required::after {
      // Hide the required asterisk, as they are detrimental to UX
      // @see http://uxmovement.com/forms/why-users-fill-out-less-if-you-mark-required-fields/
      content: none;
    }
  }
  &.material-input--is-empty:not(
    .material-input--has-focus
  ):not(
    .material-input--has-placeholder
  ) .material-input__label:not(.visually-hidden) {
    transform:  translateY($material-input-label-height * 0.95) scale(1);

    opacity:  0.4;

    color:    $material-input-label-colour-empty;
  }
  &.form-disabled .material-input__label {
    color:    $material-input-label-colour-disabled;
    opacity:  $material-input-disabled-opacity;
  }
  .material-input__optional {
    opacity:    0.6;
    font-style: italic;
  }
}
