AmbientImpact.addComponent("link.external",function(i,s){"use strict";this.externalLinkClass="external-link",this.linkDataName="externalLinkStatus",this.linkTargetDataName="externalLinkOriginalTarget",s.fn.extend({forceExternalLink:function(){return i.makeLinkExternal(this),this},undoForceExternalLink:function(){return i.detachFromLink(this),this}}),this.makeLinkExternal=function(t){var a=s(t);void 0===a.attr("rel")||""===s.trim(a.attr("rel"))?a.attr("rel","noopener noreferrer"):a.attr("rel",s.trim(a.attr("rel"))+" noopener noreferrer"),this.processLinkTarget(a),a.attr("target","_blank"),a.data(this.linkDataName,!0),a.addClass(this.externalLinkClass),AmbientImpact.on("ajaxPages",function(t){a.disableAjaxLink()})},this.makeLinkInternal=function(t){var a=s(t);this.detachFromLink(t),this.processLinkTarget(a),a.data(this.linkDataName,!1)},this.detachFromLink=function(t){var a=s(t);if(void 0!==a.attr("rel")){for(var e=a.attr("rel").split(/\s+/),r=e.length-1;0<=r;r--)"noopener"!==e[r]&&"noreferrer"!==e[r]||e.splice(r,1);0<e.length?a.attr("rel",e.join(" ")):a.removeAttr("rel")}this.restoreLinkTarget(a),a.removeData(this.linkDataName),a.removeData(this.linkTargetDataName),a.removeClass(this.externalLinkClass),AmbientImpact.on("ajaxPages",function(t){a.undisableAjaxLink()})},this.processLinkTarget=function(t){var a=s(t);void 0===a.attr("target")?a.data(this.linkTargetDataName,!1):!1!==a.attr("target")&&a.data(this.linkTargetDataName,a.attr("target"))},this.restoreLinkTarget=function(t){var a=s(t);!1===a.data(this.linkTargetDataName)?a.removeAttr("target"):void 0!==a.data(this.linkTargetDataName)&&a.attr("target",a.data(this.linkTargetDataName))},this.processLink=function(t){var a=s(t);void 0===a.data(this.linkDataName)&&(void 0===a.attr("href")||-1!==a[0].host.indexOf(window.location.host)||a.is("a[href^=javascript:]")?this.makeLinkInternal(a):this.makeLinkExternal(a))},this.addBehaviors({AmbientImpactLinkExternal:{attach:function(t,a){for(var e=s("a",t),r=e.length-1;0<=r;r--)i.processLink(e[r])},detach:function(t,a,e){if("unload"===e)for(var r=s("a",t),n=r.length-1;0<=n;n--)i.detachFromLink(r[n])}}})});